package com.example.XyhubHelpdesk.Repository;

import org.springframework.data.jpa.repository.JpaRepository;

import com.example.XyhubHelpdesk.Entity.HelpDeskIssueTypes;

public interface HelpdeskIssueRepository extends JpaRepository<HelpDeskIssueTypes, String> {

	@Query("Select distinct h from HelpDeskIssueTypes h where h.issueTypeId=:issueTypeId")
	HelpDeskIssueTypes getByIssueId(String issueTypeId);

	@Query("Select distinct new map(h.issueTypeId as issueTypeId, h.helpdeskIssueType as helpDeskIssueType) from HelpDeskIssueTypes h")
	Page<Map> getAllIssues(Pageable pageable);

	@Query("select distinct new map(h.issueTypeId as issueTypeId,h.helpdeskIssueType as helpdeskIssueType) from HelpDeskIssueTypes h where "
			+ "h.helpdeskIssueType LIKE %:searchString% ")

	List<Map> searchhelpdeskIssueType(String searchString);

	@Query("Select distinct h from HelpDeskIssueTypes h where h.helpdeskIssueType=:helpdeskIssueType")
	HelpDeskIssueTypes getByIssue(String helpdeskIssueType);

}
